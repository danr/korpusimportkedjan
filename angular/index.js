// Generated by CoffeeScript 1.4.0
(function() {

  window.FormCtrl = function($scope) {
    $scope.schema = {
      objlist: {
        title: "Object List",
        type: "array",
        items: {
          title: "List Object",
          type: "object",
          "default": {
            happy: true,
            name: ""
          },
          properties: {
            happy: {
              title: "Happy",
              type: "bool"
            },
            name: {
              title: "Name",
              type: "string"
            }
          }
        }
      },
      pets: {
        title: "Pets",
        type: "array",
        items: {
          title: "Pet",
          "default": "",
          type: "string"
        }
      },
      segmenter: {
        title: "Segmenter",
        type: "string",
        "enum": ["punkt", "whitespace", "none"]
      },
      generate: {
        title: "Generate",
        type: "array",
        "default": [],
        items: {
          title: "Annotation",
          type: "string",
          "default": "word",
          "enum": ["word", "msd", "pos"]
        }
      }
    };
    $scope.change_enumarray = function(array, id, value) {
      var v;
      console.log(array, id, value);
      if (value && -1 === array.indexOf(id)) {
        array.push(id);
      }
      if (!value) {
        v = array.indexOf(id);
        if (v !== -1) {
          return array.splice(v, 1);
        }
      }
    };
    $scope.clone = function(obj) {
      return JSON.parse(JSON.stringify(obj));
    };
    $scope.enumarray = function(desc) {
      return (desc.type === "array" && desc.items.type === "string" && (desc.items["enum"] != null)).toString();
    };
    $scope.values = {
      objlist: [],
      object: {
        name: 'johan',
        happy: true
      },
      name: 'dan',
      street: 'tunnbindaregatan',
      pets: ['bosse', 'bjarne'],
      happy: true,
      i: [],
      segmenter: "punkt",
      generate: [],
      union: "w"
    };
  };

  window.app = angular.module('formModule', []);

}).call(this);
